<!doctype html>
<html lang="id" data-theme-enabled="1">
 <head> 
  <script>window.currentUser = null;</script> 
  <script>window.shopCurrency = "EUR";</script> 
  <script>window.localCurrency = "EUR";</script> 
  <script>window.countryCode = "in";</script> 
  <script>window.rateShopTo = {"EUR":1,"USD":1.0716494077529548,"AMD":417.60490643964846};</script> 
  <title itemprop="name">Blob</title> 
  <link href="pack/styles.a7ab594e74e7a233e3dd.css" rel="stylesheet"> 
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"> 
  <meta name="apple-mobile-web-app-capable" content="yes"> 
  <!-- chrome autotranslate is enabled only for "en" main version--> 
  <meta name="google" content="notranslate"> 
  <script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic" rel="stylesheet"> 
  <link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon-precomposed.png"> 
  <link rel="canonical" href="blob.html"> 
  <meta name="msapplication-TileColor" content="#222A2C"> 
  <meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"> 
  <link rel="icon" href="img/favicon/favicon.png"> 
  <meta itemprop="image" content="https://id.javascript.info/img/site_preview_en_512x512.png"> 
  <meta property="og:title" content="Blob"> 
  <meta property="og:image" content="https://id.javascript.info/img/site_preview_en_1200x630.png"> 
  <meta property="og:image:type" content="image/png"> 
  <meta property="og:image:width" content="1200"> 
  <meta property="og:image:height" content="630"> 
  <meta property="fb:admins" content="100001562528165"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:title" content="Blob"> 
  <meta name="twitter:site" content="@iliakan"> 
  <meta name="twitter:creator" content="@iliakan"> 
  <meta name="twitter:image" content="https://id.javascript.info/img/site_preview_en_512x512.png"> 
  <link rel="prev" href="text-decoder.html"> 
  <link rel="next" href="file.html"> 
  <script>window.GA_ID = "UA-2056213-15";</script> 
  <script>window.YANDEX_METRIKA_ID = 32184394;</script> 
  <script>window.RECAPTCHA_ID = "6LfmLAEVAAAAAJMykMnf7aY8nkyTRmYi2ynx51R1";</script> 
  <script src="pack/init.4910a4963629a5955eb6.js"></script> 
  <script src="pack/head.ff7d075915f5367566f2.js" defer></script> 
  <meta property="og:title" content="Blob"> 
  <meta property="og:type" content="article"> 
  <script src="pack/tutorial.f0717d796f690e0a6aaf.js" defer></script> 
  <script src="pack/footer.5b1695b27f7207cacf2f.js" defer></script> 
   
   
 </head> 
 <body class="no-icons"> 
  <script>window.fontTest();</script> 
  <div class="page-wrapper page-wrapper_sidebar_on"> 
   <!--[if IE]><div style="color:red;text-align:center">Maaf, Internet Explorer tidak didukung, harap gunakan browser yang lebih baru.</div><![endif]--> 
   <div class="sitetoolbar sitetoolbar_tutorial"> 
    <script>window.langs = [{"code":"ar","name":"Arabic"},{"code":"az","name":"Azerbaijani"},{"code":"bg","name":"Bulgarian"},{"code":"bn","name":"Bengali"},{"code":"bs","name":"Bosnian"},{"code":"ca","name":"Catalan"},{"code":"cs","name":"Czech"},{"code":"da","name":"Danish"},{"code":"de","name":"German"},{"code":"el","name":"Greek"},{"code":"en","name":"English"},{"code":"es","name":"Spanish"},{"code":"fa","name":"Persian (Farsi)"},{"code":"fi","name":"Finnish"},{"code":"fr","name":"French"},{"code":"he","name":"Hebrew"},{"code":"hi","name":"Hindi"},{"code":"hr","name":"Croatian"},{"code":"hu","name":"Hungarian"},{"code":"hy","name":"Armenian"},{"code":"id","name":"Indonesian"},{"code":"it","name":"Italian"},{"code":"ja","name":"Japanese"},{"code":"ka","name":"Georgian"},{"code":"kk","name":"Kazakh"},{"code":"km","name":"Central Khmer"},{"code":"ko","name":"Korean"},{"code":"ky","name":"Kyrgyz"},{"code":"lt","name":"Lithuanian"},{"code":"me","name":"Montenegrin"},{"code":"ml","name":"Malayalam"},{"code":"ms","name":"Malay"},{"code":"my","name":"Burmese"},{"code":"nl","name":"Dutch"},{"code":"no","name":"Norvegian"},{"code":"pa","name":"Punjabi"},{"code":"pl","name":"Polish"},{"code":"pt","name":"Portuguese"},{"code":"ro","name":"Romanian"},{"code":"ru","name":"Russian"},{"code":"si","name":"Sinhala"},{"code":"sk","name":"Slovak"},{"code":"sl","name":"Slovenian"},{"code":"sq","name":"Albanian"},{"code":"sr","name":"Serbian"},{"code":"ta","name":"Tamil"},{"code":"te","name":"Telugu"},{"code":"test","name":"Test"},{"code":"th","name":"Thai"},{"code":"tk","name":"Turkmen"},{"code":"tr","name":"Turkish"},{"code":"uk","name":"Ukrainian"},{"code":"ur","name":"Urdu"},{"code":"uz","name":"Uzbek"},{"code":"v2","name":"v2"},{"code":"vi","name":"Vietnamese"},{"code":"zh-hant","name":"Chinese Traditional"},{"code":"zh","name":"Chinese"}];</script> 
    <script>window.lang = "id";</script> 
    <div class="sitetoolbar__content"> 
     <div class="sitetoolbar__logo-wrap"> 
      <br> 
      <a class="sitetoolbar__link sitetoolbar__link_logo" href="index.html"><h1>Teman Javascript</h1></a> 
     </div> 
     <div class="sitetoolbar__nav-toggle-wrap"> 
      <button class="sitetoolbar__nav-toggle" type="button"></button> 
     </div> 
     <nav class="sitetoolbar__sections"> 
      <ul class="sitetoolbar__sections-list"></ul> 
     </nav> 
     <div class="sitetoolbar__theme-switcher"> 
      <div class="theme-changer"> 
       <label class="theme-changer__label" for="theme-changer-input" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input" data-theme-changer="data-theme-changer"><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span></label> 
      </div> 
     </div> 
    </div> 
    <div class="tablet-menu"> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
       <div class="theme-changer theme-changer_tablet-menu theme-changer_has-label"> 
        <label class="theme-changer__label" for="theme-changer-input-tablet" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input-tablet" data-theme-changer="data-theme-changer"><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span><span class="theme-changer__label-text theme-changer__label-text_light-theme">Light theme</span><span class="theme-changer__label-text theme-changer__label-text_dark-theme">Dark theme</span></label> 
       </div> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
       <div class="share-icons"> 
        <span class="share-icons__title">Bagikan</span> 
        <a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fjs.purwana.net%2Fblob" rel="nofollow"></a> 
        <a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjs.purwana.net%2Fblob" rel="nofollow"></a> 
       </div> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
      </div> 
     </div> 
    </div> 
    <progress class="tutorial-progress" data-sticky value="3" max="4" data-tooltip="Pelajaran 3 dari 4"></progress> 
   </div> 
   <div class="page page_sidebar_on page_inner_padding"> 
    <script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");let e=document.querySelector(".page-wrapper");e&&e.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")});</script> 
    <div class="page__inner"> 
     <main class="main main_width-limit"> 
      <header class="main__header"> 
       <div class="main__header-inner"> 
        <div class="main__header-group"> 
         <ol class="breadcrumbs"> 
          <li class="breadcrumbs__item breadcrumbs__item_home"><a class="breadcrumbs__link" href="index.html"><span class="breadcrumbs__hidden-text">Tutorial</span></a></li> 
          <li class="breadcrumbs__item" id="breadcrumb-1"><a class="breadcrumbs__link" href="binary.html"><span>Binary data, files</span></a></li> 
          <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tutorial","item":"https://id.javascript.info/"},{"@type":"ListItem","position":2,"name":"Binary data, files","item":"https://id.javascript.info/binary"}]}</script> 
         </ol> 
         <div class="updated-at" data-tooltip="Terakhir diperbarui pada 15 Desember 2021"> 
          <div class="updated-at__content">
            15 Desember 2021 
          </div> 
         </div> 
        </div> 
        <h1 class="main__header-title">Blob</h1> 
       </div> 
      </header> 
      <style>
.gsc-control {
    width: 100%;
}
</style> 
      <script async src="https://cse.google.com/cse.js?cx=670735444dc5843cf"></script> 
      <div class="gcse-search"></div> 
      <div class="content"> 
       <article class="formatted" itemscope itemtype="http://schema.org/TechArticle"> 
        <meta itemprop="name" content="Blob"> 
        <div itemprop="author" itemscope itemtype="http://schema.org/Person"> 
         <meta itemprop="email" content="iliakan@gmail.com"> 
         <meta itemprop="name" content="Ilya Kantor"> 
        </div> 
        <div itemprop="articleBody"> 
         <p><code>ArrayBuffer</code> and views are a part of ECMA standard, a part of JavaScript.</p> 
         <p>In the browser, there are additional higher-level objects, described in <a href="https://www.w3.org/TR/FileAPI/">File API</a>, in particular <code>Blob</code>.</p> 
         <p><code>Blob</code> consists of an optional string <code>type</code> (a MIME-type usually), plus <code>blobParts</code> ??? a sequence of other <code>Blob</code> objects, strings and <code>BufferSource</code>.</p> 
         <figure> 
          <div class="image" style="width:659px"> 
           <div class="image__ratio" style="padding-top:16.84370257966616%"></div> 
           <object type="image/svg+xml" data="article/blob/blob.svg" width="659" height="111" class="image__image" data-use-theme> <img src="article/blob/blob.svg" alt="" width="659" height="111"> </object> 
          </div> 
         </figure> 
         <p>The constructor syntax is:</p> 
         <div id="7vj44gzd7h" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>new Blob(blobParts, options);</code></pre> 
           </div> 
          </div> 
         </div> 
         <ul> 
          <li><strong><code>blobParts</code></strong> is an array of <code>Blob</code>/<code>BufferSource</code>/<code>String</code> values.</li> 
          <li><strong><code>options</code></strong> optional object: 
           <ul> 
            <li><strong><code>type</code></strong> ??? <code>Blob</code> type, usually MIME-type, e.g. <code>image/png</code>,</li> 
            <li><strong><code>endings</code></strong> ??? whether to transform end-of-line to make the <code>Blob</code> correspond to current OS newlines (<code>\r\n</code> or <code>\n</code>). By default <code>"transparent"</code> (do nothing), but also can be <code>"native"</code> (transform).</li> 
           </ul> </li> 
         </ul> 
         <p>For example:</p> 
         <div id="vnxv8tjj5v" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>// create Blob from a string
let blob = new Blob(["&lt;html&gt;???&lt;/html&gt;"], {type: 'text/html'});
// please note: the first argument must be an array [...]</code></pre> 
           </div> 
          </div> 
         </div> 
         <div id="om641593ji" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>// create Blob from a typed array and strings
let hello = new Uint8Array([72, 101, 108, 108, 111]); // "Hello" in binary form

let blob = new Blob([hello, ' ', 'world'], {type: 'text/plain'});</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>We can extract <code>Blob</code> slices with:</p> 
         <div id="ux56fik5cw" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>blob.slice([byteStart], [byteEnd], [contentType]);</code></pre> 
           </div> 
          </div> 
         </div> 
         <ul> 
          <li><strong><code>byteStart</code></strong> ??? the starting byte, by default 0.</li> 
          <li><strong><code>byteEnd</code></strong> ??? the last byte (exclusive, by default till the end).</li> 
          <li><strong><code>contentType</code></strong> ??? the <code>type</code> of the new blob, by default the same as the source.</li> 
         </ul> 
         <p>The arguments are similar to <code>array.slice</code>, negative numbers are allowed too.</p> 
         <div class="important important_smart"> 
          <div class="important__header"> 
           <span class="important__type"><code>Blob</code> objects are immutable</span> 
          </div> 
          <div class="important__content"> 
           <p>We can???t change data directly in a <code>Blob</code>, but we can slice parts of a <code>Blob</code>, create new <code>Blob</code> objects from them, mix them into a new <code>Blob</code> and so on.</p> 
           <p>This behavior is similar to JavaScript strings: we can???t change a character in a string, but we can make a new corrected string.</p> 
          </div> 
         </div> 
         <h2><a class="main__anchor" name="blob-as-url" href="blob.html#blob-as-url">Blob as URL</a></h2> 
         <p>A Blob can be easily used as a URL for <code>&lt;a&gt;</code>, <code>&lt;img&gt;</code> or other tags, to show its contents.</p> 
         <p>Thanks to <code>type</code>, we can also download/upload <code>Blob</code> objects, and the <code>type</code> naturally becomes <code>Content-Type</code> in network requests.</p> 
         <p>Let???s start with a simple example. By clicking on a link you download a dynamically-generated <code>Blob</code> with <code>hello world</code> contents as a file:</p> 
         <div id="ihhgt13l12" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="toolbar codebox__toolbar"> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="tampilkan" data-action="run" class="toolbar__button toolbar__button_run"></a> 
            </div> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="buka pada sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a> 
            </div> 
           </div> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-markup"><code>&lt;!-- download attribute forces the browser to download instead of navigating --&gt;
&lt;a download="hello.txt" href='#' id="link"&gt;Download&lt;/a&gt;

&lt;script&gt;
let blob = new Blob(["Hello, world!"], {type: 'text/plain'});

link.href = URL.createObjectURL(blob);
&lt;/script&gt;</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>We can also create a link dynamically in JavaScript and simulate a click by <code>link.click()</code>, then download starts automatically.</p> 
         <p>Here???s the similar code that causes user to download the dynamically created <code>Blob</code>, without any HTML:</p> 
         <div id="olos8d637r" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="toolbar codebox__toolbar"> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="jalankan" data-action="run" class="toolbar__button toolbar__button_run"></a> 
            </div> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="buka pada sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a> 
            </div> 
           </div> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>let link = document.createElement('a');
link.download = 'hello.txt';

let blob = new Blob(['Hello, world!'], {type: 'text/plain'});

link.href = URL.createObjectURL(blob);

link.click();

URL.revokeObjectURL(link.href);</code></pre> 
           </div> 
          </div> 
         </div> 
         <p><code>URL.createObjectURL</code> takes a <code>Blob</code> and creates a unique URL for it, in the form <code>blob:&lt;origin&gt;/&lt;uuid&gt;</code>.</p> 
         <p>That???s what the value of <code>link.href</code> looks like:</p> 
         <div id="wkbb5uz2nk" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-none"><code>blob:https://javascript.info/1e67e00e-860d-40a5-89ae-6ab0cbee6273</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>For each URL generated by <code>URL.createObjectURL</code> the browser stores a URL ??? <code>Blob</code> mapping internally. So such URLs are short, but allow to access the <code>Blob</code>.</p> 
         <p>A generated URL (and hence the link with it) is only valid within the current document, while it???s open. And it allows to reference the <code>Blob</code> in <code>&lt;img&gt;</code>, <code>&lt;a&gt;</code>, basically any other object that expects a URL.</p> 
         <p>There???s a side-effect though. While there???s a mapping for a <code>Blob</code>, the <code>Blob</code> itself resides in the memory. The browser can???t free it.</p> 
         <p>The mapping is automatically cleared on document unload, so <code>Blob</code> objects are freed then. But if an app is long-living, then that doesn???t happen soon.</p> 
         <p><strong>So if we create a URL, that <code>Blob</code> will hang in memory, even if not needed any more.</strong></p> 
         <p><code>URL.revokeObjectURL(url)</code> removes the reference from the internal mapping, thus allowing the <code>Blob</code> to be deleted (if there are no other references), and the memory to be freed.</p> 
         <p>In the last example, we intend the <code>Blob</code> to be used only once, for instant downloading, so we call <code>URL.revokeObjectURL(link.href)</code> immediately.</p> 
         <p>In the previous example with the clickable HTML-link, we don???t call <code>URL.revokeObjectURL(link.href)</code>, because that would make the <code>Blob</code> url invalid. After the revocation, as the mapping is removed, the URL doesn???t work any more.</p> 
         <h2><a class="main__anchor" name="blob-to-base64" href="blob.html#blob-to-base64">Blob to base64</a></h2> 
         <p>An alternative to <code>URL.createObjectURL</code> is to convert a <code>Blob</code> into a base64-encoded string.</p> 
         <p>That encoding represents binary data as a string of ultra-safe ???readable??? characters with ASCII-codes from 0 to 64. And what???s more important ??? we can use this encoding in ???data-urls???.</p> 
         <p>A <a href="https://developer.mozilla.org/id/docs/Web/http/Data_URIs">data url</a> has the form <code>data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</code>. We can use such urls everywhere, on par with ???regular??? urls.</p> 
         <p>For instance, here???s a smiley:</p> 
         <div id="ixwsxj0ivt" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-markup"><code>&lt;img src="data:image/png;base64,R0lGODlhDAAMAKIFAF5LAP/zxAAAANyuAP/gaP///wAAAAAAACH5BAEAAAUALAAAAAAMAAwAAAMlWLPcGjDKFYi9lxKBOaGcF35DhWHamZUW0K4mAbiwWtuf0uxFAgA7"&gt;</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>The browser will decode the string and show the image: <img src="data:image/png;base64,R0lGODlhDAAMAKIFAF5LAP/zxAAAANyuAP/gaP///wAAAAAAACH5BAEAAAUALAAAAAAMAAwAAAMlWLPcGjDKFYi9lxKBOaGcF35DhWHamZUW0K4mAbiwWtuf0uxFAgA7"></p> 
         <p>To transform a <code>Blob</code> into base64, we???ll use the built-in <code>FileReader</code> object. It can read data from Blobs in multiple formats. In the <a href="file.html">next chapter</a> we???ll cover it more in-depth.</p> 
         <p>Here???s the demo of downloading a blob, now via base-64:</p> 
         <div id="lsgiv24agk" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:5,&quot;end&quot;:6}]"> 
          <div class="codebox code-example__codebox"> 
           <div class="toolbar codebox__toolbar"> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="jalankan" data-action="run" class="toolbar__button toolbar__button_run"></a> 
            </div> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="buka pada sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a> 
            </div> 
           </div> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>let link = document.createElement('a');
link.download = 'hello.txt';

let blob = new Blob(['Hello, world!'], {type: 'text/plain'});

let reader = new FileReader();
reader.readAsDataURL(blob); // converts the blob to base64 and calls onload

reader.onload = function() {
  link.href = reader.result; // data url
  link.click();
};</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>Both ways of making a URL of a <code>Blob</code> are usable. But usually <code>URL.createObjectURL(blob)</code> is simpler and faster.</p> 
         <div class="balance"> 
          <div class="balance__pluses"> 
           <div class="balance__content"> 
            <div class="balance__title">
              URL.createObjectURL(blob) 
            </div> 
            <ul class="balance__list"> 
             <li>We need to revoke them if care about memory.</li> 
             <li>Direct access to blob, no ???encoding/decoding???</li> 
            </ul> 
           </div> 
          </div> 
          <div class="balance__minuses"> 
           <div class="balance__content"> 
            <div class="balance__title">
              Blob to data url 
            </div> 
            <ul class="balance__list"> 
             <li>No need to revoke anything.</li> 
             <li>Performance and memory losses on big <code>Blob</code> objects for encoding.</li> 
            </ul> 
           </div> 
          </div> 
         </div> 
         <h2><a class="main__anchor" name="image-to-blob" href="blob.html#image-to-blob">Image to blob</a></h2> 
         <p>We can create a <code>Blob</code> of an image, an image part, or even make a page screenshot. That???s handy to upload it somewhere.</p> 
         <p>Image operations are done via <code>&lt;canvas&gt;</code> element:</p> 
         <ol> 
          <li>Draw an image (or its part) on canvas using <a href="https://developer.mozilla.org/id/docs/Web/api/CanvasRenderingContext2D/drawImage">canvas.drawImage</a>.</li> 
          <li>Call canvas method <a href="https://developer.mozilla.org/id/docs/Web/api/HTMLCanvasElement/toBlob">.toBlob(callback, format, quality)</a> that creates a <code>Blob</code> and runs <code>callback</code> with it when done.</li> 
         </ol> 
         <p>In the example below, an image is just copied, but we could cut from it, or transform it on canvas prior to making a blob:</p> 
         <div id="l21fct682h" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="toolbar codebox__toolbar"> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="jalankan" data-action="run" class="toolbar__button toolbar__button_run"></a> 
            </div> 
            <div class="toolbar__tool"> 
             <a href="blob.html#" title="buka pada sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a> 
            </div> 
           </div> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>// take any image
let img = document.querySelector('img');

// make &lt;canvas&gt; of the same size
let canvas = document.createElement('canvas');
canvas.width = img.clientWidth;
canvas.height = img.clientHeight;

let context = canvas.getContext('2d');

// copy image to it (this method allows to cut image)
context.drawImage(img, 0, 0);
// we can context.rotate(), and do many other things on canvas

// toBlob is async operation, callback is called when done
canvas.toBlob(function(blob) {
  // blob ready, download it
  let link = document.createElement('a');
  link.download = 'example.png';

  link.href = URL.createObjectURL(blob);
  link.click();

  // delete the internal blob reference, to let the browser clear memory from it
  URL.revokeObjectURL(link.href);
}, 'image/png');</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>If we prefer <code>async/await</code> instead of callbacks:</p> 
         <div id="krazoh66ct" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>let blob = await new Promise(resolve =&gt; canvasElem.toBlob(resolve, 'image/png'));</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>For screenshotting a page, we can use a library such as . What it does is just walks the page and draws it on <code>&lt;canvas&gt;</code>. Then we can get a <code>Blob</code> of it the same way as above.</p> 
         <h2><a class="main__anchor" name="from-blob-to-arraybuffer" href="blob.html#from-blob-to-arraybuffer">From Blob to ArrayBuffer</a></h2> 
         <p>The <code>Blob</code> constructor allows to create a blob from almost anything, including any <code>BufferSource</code>.</p> 
         <p>But if we need to perform low-level processing, we can get the lowest-level <code>ArrayBuffer</code> from it using <code>FileReader</code>:</p> 
         <div id="99bpoquqoj" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:3,&quot;end&quot;:3}]"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>// get arrayBuffer from blob
let fileReader = new FileReader();

fileReader.readAsArrayBuffer(blob);

fileReader.onload = function(event) {
  let arrayBuffer = fileReader.result;
};</code></pre> 
           </div> 
          </div> 
         </div> 
         <h2><a class="main__anchor" name="summary" href="blob.html#summary">Summary</a></h2> 
         <p>While <code>ArrayBuffer</code>, <code>Uint8Array</code> and other <code>BufferSource</code> are ???binary data???, a <a href="https://www.w3.org/TR/FileAPI/#dfn-Blob">Blob</a> represents ???binary data with type???.</p> 
         <p>That makes Blobs convenient for upload/download operations, that are so common in the browser.</p> 
         <p>Methods that perform web-requests, such as <a href="xmlhttprequest.html">XMLHttpRequest</a>, <a href="fetch.html">fetch</a> and so on, can work with <code>Blob</code> natively, as well as with other binary types.</p> 
         <p>We can easily convert between <code>Blob</code> and low-level binary data types:</p> 
         <ul> 
          <li>We can make a Blob from a typed array using <code>new Blob(...)</code> constructor.</li> 
          <li>We can get back <code>ArrayBuffer</code> from a Blob using <code>FileReader</code>, and then create a view over it for low-level binary processing.</li> 
         </ul> 
        </div> 
       </article> 
      </div> 
      <div class="page__nav-wrap"> 
       <a class="page__nav page__nav_prev" href="text-decoder.html" data-tooltip="TextDecoder and TextEncoder"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Pelajaran sebelumnya</span></a> 
       <a class="page__nav page__nav_next" href="file.html" data-tooltip="File dan FileReader"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Pelajaran berikutnya</span></a> 
      </div> 
      <div class="article-tablet-foot tablet-only"> 
       <div class="article-tablet-foot__layout"> 
        <div class="share-icons"> 
         <span class="share-icons__title">Bagikan</span> 
         <a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fjs.purwana.net%2Fblob" rel="nofollow"></a> 
         <a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjs.purwana.net%2Fblob" rel="nofollow"></a> 
        </div> 
        <div class="article-tablet-foot__map"> 
         <a class="map" href="tutorial/map.html" data-action="tutorial-map"><span class="map__text">Peta tutorial</span></a> 
        </div> 
       </div> 
      </div> 
     </main> 
    </div> 
    <div class="sidebar page__sidebar sidebar sidebar_sticky-footer"> 
     <button class="sidebar__toggle" data-sidebar-toggle></button> 
     <div class="sidebar__inner"> 
      <div class="sidebar__content"> 
       <div class="sidebar__section"> 
        <h4 class="sidebar__section-title">Bab</h4> 
        <nav class="sidebar__navigation"> 
         <ul class="sidebar__navigation-links"> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="binary.html">Binary data, files</a></li> 
         </ul> 
        </nav> 
       </div> 
       <div class="sidebar__section"> 
        <h4 class="sidebar__section-title">Navigasi pelajaran</h4> 
        <nav class="sidebar__navigation"> 
         <ul class="sidebar__navigation-links"> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="blob.html#blob-as-url">Blob as URL</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="blob.html#blob-to-base64">Blob to base64</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="blob.html#image-to-blob">Image to blob</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="blob.html#from-blob-to-arraybuffer">From Blob to ArrayBuffer</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="blob.html#summary">Summary</a></li> 
         </ul> 
        </nav> 
       </div> 
       <div class="sidebar__section"> 
        <nav class="sidebar__navigation"> 
         <ul class="sidebar__navigation-links"> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="blob.html#comments">komentar</a></li> 
         </ul> 
        </nav> 
       </div> 
       <div class="sidebar__section"> 
        <div class="sidebar__section-title">
          Bagikan 
        </div> 
        <a class="share share_tw sidebar__share" href="https://twitter.com/share?url=https%3A%2F%2Fjs.purwana.net%2Fblob" rel="nofollow"></a> 
        <a class="share share_fb sidebar__share" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Fjs.purwana.net%2Fblob" rel="nofollow"></a> 
       </div> 
       <div class="sidebar__section"></div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="page-footer"> 
   <ul class="page-footer__list"> 
    <li class="page-footer__item page-footer__item_copy">??&nbsp;2007???2023&nbsp; Teman JS</li> 
    <li class="page-footer__item page-footer__item_about"><!--by <a href="https://wifi.purwana.net">klub wifi merdeka</a>--></li> 
    <li class="page-footer__item page-footer__item_contact"><!--built with <a href="https://angga.purwana.net" target="_blank">angga purwana</a>--></li> 
   </ul> 
  </div>  
 </body>
</html>