<!doctype html>
<html lang="id" data-theme-enabled="1">
 <head> 
  <script>window.currentUser = null;</script> 
  <script>window.shopCurrency = "EUR";</script> 
  <script>window.localCurrency = "EUR";</script> 
  <script>window.countryCode = "id";</script> 
  <script>window.rateShopTo = {"EUR":1,"USD":1.0716494077529548,"AMD":417.60490643964846};</script> 
  <title itemprop="name">Fetch API</title> 
  <link href="pack/styles.a7ab594e74e7a233e3dd.css" rel="stylesheet"> 
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"> 
  <meta name="apple-mobile-web-app-capable" content="yes"> 
  <!-- chrome autotranslate is enabled only for "en" main version--> 
  <meta name="google" content="notranslate"> 
  <script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic" rel="stylesheet"> 
  <link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon-precomposed.png"> 
  <link rel="canonical" href="fetch-api.html"> 
  <meta name="msapplication-TileColor" content="#222A2C"> 
  <meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"> 
  <link rel="icon" href="img/favicon/favicon.png"> 
  <meta itemprop="image" content="https://id.javascript.info/img/site_preview_en_512x512.png"> 
  <meta property="og:title" content="Fetch API"> 
  <meta property="og:image" content="https://id.javascript.info/img/site_preview_en_1200x630.png"> 
  <meta property="og:image:type" content="image/png"> 
  <meta property="og:image:width" content="1200"> 
  <meta property="og:image:height" content="630"> 
  <meta property="fb:admins" content="100001562528165"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:title" content="Fetch API"> 
  <meta name="twitter:site" content="@iliakan"> 
  <meta name="twitter:creator" content="@iliakan"> 
  <meta name="twitter:image" content="https://id.javascript.info/img/site_preview_en_512x512.png"> 
  <link rel="prev" href="fetch-crossorigin.html"> 
  <link rel="next" href="url.html"> 
  <script>window.GA_ID = "UA-2056213-15";</script> 
  <script>window.YANDEX_METRIKA_ID = 32184394;</script> 
  <script>window.RECAPTCHA_ID = "6LfmLAEVAAAAAJMykMnf7aY8nkyTRmYi2ynx51R1";</script> 
  <script src="pack/init.4910a4963629a5955eb6.js"></script> 
  <script src="pack/head.ff7d075915f5367566f2.js" defer></script> 
  <meta property="og:title" content="Fetch API"> 
  <meta property="og:type" content="article"> 
  <script src="pack/tutorial.f0717d796f690e0a6aaf.js" defer></script> 
  <script src="pack/footer.5b1695b27f7207cacf2f.js" defer></script> 
   
   
 </head> 
 <body class="no-icons"> 
  <script>window.fontTest();</script> 
  <div class="page-wrapper page-wrapper_sidebar_on"> 
   <!--[if IE]><div style="color:red;text-align:center">Maaf, Internet Explorer tidak didukung, harap gunakan browser yang lebih baru.</div><![endif]--> 
   <div class="sitetoolbar sitetoolbar_tutorial"> 
    <script>window.langs = [{"code":"ar","name":"Arabic"},{"code":"az","name":"Azerbaijani"},{"code":"bg","name":"Bulgarian"},{"code":"bn","name":"Bengali"},{"code":"bs","name":"Bosnian"},{"code":"ca","name":"Catalan"},{"code":"cs","name":"Czech"},{"code":"da","name":"Danish"},{"code":"de","name":"German"},{"code":"el","name":"Greek"},{"code":"en","name":"English"},{"code":"es","name":"Spanish"},{"code":"fa","name":"Persian (Farsi)"},{"code":"fi","name":"Finnish"},{"code":"fr","name":"French"},{"code":"he","name":"Hebrew"},{"code":"hi","name":"Hindi"},{"code":"hr","name":"Croatian"},{"code":"hu","name":"Hungarian"},{"code":"hy","name":"Armenian"},{"code":"id","name":"Indonesian"},{"code":"it","name":"Italian"},{"code":"ja","name":"Japanese"},{"code":"ka","name":"Georgian"},{"code":"kk","name":"Kazakh"},{"code":"km","name":"Central Khmer"},{"code":"ko","name":"Korean"},{"code":"ky","name":"Kyrgyz"},{"code":"lt","name":"Lithuanian"},{"code":"me","name":"Montenegrin"},{"code":"ml","name":"Malayalam"},{"code":"ms","name":"Malay"},{"code":"my","name":"Burmese"},{"code":"nl","name":"Dutch"},{"code":"no","name":"Norvegian"},{"code":"pa","name":"Punjabi"},{"code":"pl","name":"Polish"},{"code":"pt","name":"Portuguese"},{"code":"ro","name":"Romanian"},{"code":"ru","name":"Russian"},{"code":"si","name":"Sinhala"},{"code":"sk","name":"Slovak"},{"code":"sl","name":"Slovenian"},{"code":"sq","name":"Albanian"},{"code":"sr","name":"Serbian"},{"code":"ta","name":"Tamil"},{"code":"te","name":"Telugu"},{"code":"test","name":"Test"},{"code":"th","name":"Thai"},{"code":"tk","name":"Turkmen"},{"code":"tr","name":"Turkish"},{"code":"uk","name":"Ukrainian"},{"code":"ur","name":"Urdu"},{"code":"uz","name":"Uzbek"},{"code":"v2","name":"v2"},{"code":"vi","name":"Vietnamese"},{"code":"zh-hant","name":"Chinese Traditional"},{"code":"zh","name":"Chinese"}];</script> 
    <script>window.lang = "id";</script> 
    <div class="sitetoolbar__content"> 
     <div class="sitetoolbar__logo-wrap"> 
      <br> 
      <a class="sitetoolbar__link sitetoolbar__link_logo" href="index.html"><h1>Teman Javascript</h1></a> 
     </div> 
     <div class="sitetoolbar__nav-toggle-wrap"> 
      <button class="sitetoolbar__nav-toggle" type="button"></button> 
     </div> 
     <nav class="sitetoolbar__sections"> 
      <ul class="sitetoolbar__sections-list"></ul> 
     </nav> 
     <div class="sitetoolbar__theme-switcher"> 
      <div class="theme-changer"> 
       <label class="theme-changer__label" for="theme-changer-input" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input" data-theme-changer="data-theme-changer"><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span></label> 
      </div> 
     </div> 
    </div> 
    <div class="tablet-menu"> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
       <div class="theme-changer theme-changer_tablet-menu theme-changer_has-label"> 
        <label class="theme-changer__label" for="theme-changer-input-tablet" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input-tablet" data-theme-changer="data-theme-changer"><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span><span class="theme-changer__label-text theme-changer__label-text_light-theme">Light theme</span><span class="theme-changer__label-text theme-changer__label-text_dark-theme">Dark theme</span></label> 
       </div> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
       <div class="share-icons"> 
        <span class="share-icons__title">Bagikan</span> 
        <a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fjs.purwana.net%2Ffetch-api" rel="nofollow"></a> 
        <a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjs.purwana.net%2Ffetch-api" rel="nofollow"></a> 
       </div> 
      </div> 
     </div> 
     <div class="tablet-menu__line"> 
      <div class="tablet-menu__content"> 
      </div> 
     </div> 
    </div> 
    <progress class="tutorial-progress" data-sticky value="6" max="12" data-tooltip="Pelajaran 6 dari 12"></progress> 
   </div> 
   <div class="page page_sidebar_on page_inner_padding"> 
    <script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");let e=document.querySelector(".page-wrapper");e&&e.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")});</script> 
    <div class="page__inner"> 
     <main class="main main_width-limit"> 
      <header class="main__header"> 
       <div class="main__header-inner"> 
        <div class="main__header-group"> 
         <ol class="breadcrumbs"> 
          <li class="breadcrumbs__item breadcrumbs__item_home"><a class="breadcrumbs__link" href="index.html"><span class="breadcrumbs__hidden-text">Tutorial</span></a></li> 
          <li class="breadcrumbs__item" id="breadcrumb-1"><a class="breadcrumbs__link" href="network.html"><span>Network requests</span></a></li> 
          <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tutorial","item":"https://id.javascript.info/"},{"@type":"ListItem","position":2,"name":"Network requests","item":"https://id.javascript.info/network"}]}</script> 
         </ol> 
         <div class="updated-at" data-tooltip="Terakhir diperbarui pada 28 Maret 2021"> 
          <div class="updated-at__content">
            28 Maret 2021 
          </div> 
         </div> 
        </div> 
        <div class="notification notification_message notification_warning notification_article"> 
         <div class="notification__content">
           Materi ini hanya tersedia dalam bahasa berikut: 
          <a href="https://javascript.info/fetch-api">English</a>, 
          <a href="https://es.javascript.info/fetch-api">Espa??ol</a>, 
          <a href="https://fr.javascript.info/fetch-api">Fran??ais</a>, 
          <a href="https://it.javascript.info/fetch-api">Italiano</a>, 
          <a href="https://ja.javascript.info/fetch-api">?????????</a>, 
          <a href="https://ko.javascript.info/fetch-api">?????????</a>, 
          <a href="https://learn.javascript.ru/fetch-api">??????????????</a>, 
          <a href="https://tr.javascript.info/fetch-api">T??rk??e</a>, 
          <a href="https://uk.javascript.info/fetch-api">????????????????????</a>, 
          <a href="https://zh.javascript.info/fetch-api">????????????</a>. Tolong, menerjemahkan ke dalam 
          <strong>Indonesia</strong>. 
         </div> 
        </div> 
        <h1 class="main__header-title">Fetch API</h1> 
       </div> 
      </header> 
      <style>
.gsc-control {
    width: 100%;
}
</style> 
      <script async src="https://cse.google.com/cse.js?cx=670735444dc5843cf"></script> 
      <div class="gcse-search"></div> 
      <div class="content"> 
       <article class="formatted" itemscope itemtype="http://schema.org/TechArticle"> 
        <meta itemprop="name" content="Fetch API"> 
        <div itemprop="author" itemscope itemtype="http://schema.org/Person"> 
         <meta itemprop="email" content="iliakan@gmail.com"> 
         <meta itemprop="name" content="Ilya Kantor"> 
        </div> 
        <div itemprop="articleBody"> 
         <p>So far, we know quite a bit about <code>fetch</code>.</p> 
         <p>Let???s see the rest of API, to cover all its abilities.</p> 
         <div class="important important_smart"> 
          <div class="important__header"> 
           <span class="important__type">Tolong dicatat:</span> 
          </div> 
          <div class="important__content"> 
           <p>Please note: most of these options are used rarely. You may skip this chapter and still use <code>fetch</code> well.</p> 
           <p>Still, it???s good to know what <code>fetch</code> can do, so if the need arises, you can return and read the details.</p> 
          </div> 
         </div> 
         <p>Here???s the full list of all possible <code>fetch</code> options with their default values (alternatives in comments):</p> 
         <div id="7ly5am855p" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>let promise = fetch(url, {
  method: "GET", // POST, PUT, DELETE, etc.
  headers: {
    // the content type header value is usually auto-set
    // depending on the request body
    "Content-Type": "text/plain;charset=UTF-8"
  },
  body: undefined // string, FormData, Blob, BufferSource, or URLSearchParams
  referrer: "about:client", // or "" to send no Referer header,
  // or an url from the current origin
  referrerPolicy: "no-referrer-when-downgrade", // no-referrer, origin, same-origin...
  mode: "cors", // same-origin, no-cors
  credentials: "same-origin", // omit, include
  cache: "default", // no-store, reload, no-cache, force-cache, or only-if-cached
  redirect: "follow", // manual, error
  integrity: "", // a hash, like "sha256-abcdef1234567890"
  keepalive: false, // true
  signal: undefined, // AbortController to abort request
  window: window // null
});</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>An impressive list, right?</p> 
         <p>We fully covered <code>method</code>, <code>headers</code> and <code>body</code> in the chapter <a href="fetch.html">Fetch</a>.</p> 
         <p>The <code>signal</code> option is covered in <a href="fetch-abort.html">Fetch: Membatalkan</a>.</p> 
         <p>Now let???s explore the remaining capabilities.</p> 
         <h2><a class="main__anchor" name="referrer-referrerpolicy" href="fetch-api.html#referrer-referrerpolicy">referrer, referrerPolicy</a></h2> 
         <p>These options govern how <code>fetch</code> sets the HTTP <code>Referer</code> header.</p> 
         <p>Usually that header is set automatically and contains the url of the page that made the request. In most scenarios, it???s not important at all, sometimes, for security purposes, it makes sense to remove or shorten it.</p> 
         <p><strong>The <code>referrer</code> option allows to set any <code>Referer</code> (within the current origin) or remove it.</strong></p> 
         <p>To send no referer, set an empty string:</p> 
         <div id="qlz5qeb3oe" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:1,&quot;end&quot;:1}]"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>fetch('/page', {
  referrer: "" // no Referer header
});</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>To set another url within the current origin:</p> 
         <div id="4hfvp6am6d" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:3,&quot;end&quot;:3}]"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>fetch('/page', {
  // assuming we're on https://javascript.info
  // we can set any Referer header, but only within the current origin
  referrer: "https://javascript.info/anotherpage"
});</code></pre> 
           </div> 
          </div> 
         </div> 
         <p><strong>The <code>referrerPolicy</code> option sets general rules for <code>Referer</code>.</strong></p> 
         <p>Requests are split into 3 types:</p> 
         <ol> 
          <li>Request to the same origin.</li> 
          <li>Request to another origin.</li> 
          <li>Request from HTTPS to HTTP (from safe to unsafe protocol).</li> 
         </ol> 
         <p>Unlike the <code>referrer</code> option that allows to set the exact <code>Referer</code> value, <code>referrerPolicy</code> tells the browser general rules for each request type.</p> 
         <p>Possible values are described in the <a href="https://w3c.github.io/webappsec-referrer-policy/">Referrer Policy specification</a>:</p> 
         <ul> 
          <li><strong><code>"no-referrer-when-downgrade"</code></strong> ??? the default value: full <code>Referer</code> is always sent, unless we send a request from HTTPS to HTTP (to the less secure protocol).</li> 
          <li><strong><code>"no-referrer"</code></strong> ??? never send <code>Referer</code>.</li> 
          <li><strong><code>"origin"</code></strong> ??? only send the origin in <code>Referer</code>, not the full page URL, e.g. only <code>http://site.com</code> instead of <code>http://site.com/path</code>.</li> 
          <li><strong><code>"origin-when-cross-origin"</code></strong> ??? send the full <code>Referer</code> to the same origin, but only the origin part for cross-origin requests (as above).</li> 
          <li><strong><code>"same-origin"</code></strong> ??? send the full <code>Referer</code> to the same origin, but no <code>Referer</code> for cross-origin requests.</li> 
          <li><strong><code>"strict-origin"</code></strong> ??? send only the origin, not the <code>Referer</code> for HTTPS???HTTP requests.</li> 
          <li><strong><code>"strict-origin-when-cross-origin"</code></strong> ??? for same-origin send the full <code>Referer</code>, for cross-origin send only the origin, unless it???s HTTPS???HTTP request, then send nothing.</li> 
          <li><strong><code>"unsafe-url"</code></strong> ??? always send the full url in <code>Referer</code>, even for HTTPS???HTTP requests.</li> 
         </ul> 
         <p>Here???s a table with all combinations:</p> 
         <table> 
          <thead> 
           <tr> 
            <th>Value</th> 
            <th>To same origin</th> 
            <th>To another origin</th> 
            <th>HTTPS???HTTP</th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td><code>"no-referrer"</code></td> 
            <td>-</td> 
            <td>-</td> 
            <td>-</td> 
           </tr> 
           <tr> 
            <td><code>"no-referrer-when-downgrade"</code> or <code>""</code> (default)</td> 
            <td>full</td> 
            <td>full</td> 
            <td>-</td> 
           </tr> 
           <tr> 
            <td><code>"origin"</code></td> 
            <td>origin</td> 
            <td>origin</td> 
            <td>origin</td> 
           </tr> 
           <tr> 
            <td><code>"origin-when-cross-origin"</code></td> 
            <td>full</td> 
            <td>origin</td> 
            <td>origin</td> 
           </tr> 
           <tr> 
            <td><code>"same-origin"</code></td> 
            <td>full</td> 
            <td>-</td> 
            <td>-</td> 
           </tr> 
           <tr> 
            <td><code>"strict-origin"</code></td> 
            <td>origin</td> 
            <td>origin</td> 
            <td>-</td> 
           </tr> 
           <tr> 
            <td><code>"strict-origin-when-cross-origin"</code></td> 
            <td>full</td> 
            <td>origin</td> 
            <td>-</td> 
           </tr> 
           <tr> 
            <td><code>"unsafe-url"</code></td> 
            <td>full</td> 
            <td>full</td> 
            <td>full</td> 
           </tr> 
          </tbody> 
         </table> 
         <p>Let???s say we have an admin zone with a URL structure that shouldn???t be known from outside of the site.</p> 
         <p>If we send a <code>fetch</code>, then by default it always sends the <code>Referer</code> header with the full url of our page (except when we request from HTTPS to HTTP, then no <code>Referer</code>).</p> 
         <p>E.g. <code>Referer: https://javascript.info/admin/secret/paths</code>.</p> 
         <p>If we???d like other websites know only the origin part, not the URL-path, we can set the option:</p> 
         <div id="8qpqcls8nq" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>fetch('https://another.com/page', {
  // ...
  referrerPolicy: "origin-when-cross-origin" // Referer: https://javascript.info
});</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>We can put it to all <code>fetch</code> calls, maybe integrate into JavaScript library of our project that does all requests and uses <code>fetch</code> inside.</p> 
         <p>Its only difference compared to the default behavior is that for requests to another origin <code>fetch</code> sends only the origin part of the URL (e.g. <code>https://javascript.info</code>, without path). For requests to our origin we still get the full <code>Referer</code> (maybe useful for debugging purposes).</p> 
         <div class="important important_smart"> 
          <div class="important__header"> 
           <span class="important__type">Referrer policy is not only for <code>fetch</code></span> 
          </div> 
          <div class="important__content"> 
           <p>Referrer policy, described in the <a href="https://w3c.github.io/webappsec-referrer-policy/">specification</a>, is not just for <code>fetch</code>, but more global.</p> 
           <p>In particular, it???s possible to set the default policy for the whole page using the <code>Referrer-Policy</code> HTTP header, or per-link, with <code>&lt;a rel="noreferrer"&gt;</code>.</p> 
          </div> 
         </div> 
         <h2><a class="main__anchor" name="mode" href="fetch-api.html#mode">mode</a></h2> 
         <p>The <code>mode</code> option is a safe-guard that prevents occasional cross-origin requests:</p> 
         <ul> 
          <li><strong><code>"cors"</code></strong> ??? the default, cross-origin requests are allowed, as described in <a href="fetch-crossorigin.html">Fetch: *request Cross-Origin*</a>,</li> 
          <li><strong><code>"same-origin"</code></strong> ??? cross-origin requests are forbidden,</li> 
          <li><strong><code>"no-cors"</code></strong> ??? only safe cross-origin requests are allowed.</li> 
         </ul> 
         <p>This option may be useful when the URL for <code>fetch</code> comes from a 3rd-party, and we want a ???power off switch??? to limit cross-origin capabilities.</p> 
         <h2><a class="main__anchor" name="credentials" href="fetch-api.html#credentials">credentials</a></h2> 
         <p>The <code>credentials</code> option specifies whether <code>fetch</code> should send cookies and HTTP-Authorization headers with the request.</p> 
         <ul> 
          <li><strong><code>"same-origin"</code></strong> ??? the default, don???t send for cross-origin requests,</li> 
          <li><strong><code>"include"</code></strong> ??? always send, requires <code>Accept-Control-Allow-Credentials</code> from cross-origin server in order for JavaScript to access the response, that was covered in the chapter <a href="fetch-crossorigin.html">Fetch: *request Cross-Origin*</a>,</li> 
          <li><strong><code>"omit"</code></strong> ??? never send, even for same-origin requests.</li> 
         </ul> 
         <h2><a class="main__anchor" name="cache" href="fetch-api.html#cache">cache</a></h2> 
         <p>By default, <code>fetch</code> requests make use of standard HTTP-caching. That is, it respects the <code>Expires</code> and <code>Cache-Control</code> headers, sends <code>If-Modified-Since</code> and so on. Just like regular HTTP-requests do.</p> 
         <p>The <code>cache</code> options allows to ignore HTTP-cache or fine-tune its usage:</p> 
         <ul> 
          <li><strong><code>"default"</code></strong> ??? <code>fetch</code> uses standard HTTP-cache rules and headers,</li> 
          <li><strong><code>"no-store"</code></strong> ??? totally ignore HTTP-cache, this mode becomes the default if we set a header <code>If-Modified-Since</code>, <code>If-None-Match</code>, <code>If-Unmodified-Since</code>, <code>If-Match</code>, or <code>If-Range</code>,</li> 
          <li><strong><code>"reload"</code></strong> ??? don???t take the result from HTTP-cache (if any), but populate the cache with the response (if the response headers permit this action),</li> 
          <li><strong><code>"no-cache"</code></strong> ??? create a conditional request if there is a cached response, and a normal request otherwise. Populate HTTP-cache with the response,</li> 
          <li><strong><code>"force-cache"</code></strong> ??? use a response from HTTP-cache, even if it???s stale. If there???s no response in HTTP-cache, make a regular HTTP-request, behave normally,</li> 
          <li><strong><code>"only-if-cached"</code></strong> ??? use a response from HTTP-cache, even if it???s stale. If there???s no response in HTTP-cache, then error. Only works when <code>mode</code> is <code>"same-origin"</code>.</li> 
         </ul> 
         <h2><a class="main__anchor" name="redirect" href="fetch-api.html#redirect">redirect</a></h2> 
         <p>Normally, <code>fetch</code> transparently follows HTTP-redirects, like 301, 302 etc.</p> 
         <p>The <code>redirect</code> option allows to change that:</p> 
         <ul> 
          <li><strong><code>"follow"</code></strong> ??? the default, follow HTTP-redirects,</li> 
          <li><strong><code>"error"</code></strong> ??? error in case of HTTP-redirect,</li> 
          <li><strong><code>"manual"</code></strong> ??? allows to process HTTP-redirects manually. In case of redirect, we???ll get a special response object, with <code>response.type="opaqueredirect"</code> and zeroed/empty status and most other properies.</li> 
         </ul> 
         <h2><a class="main__anchor" name="integrity" href="fetch-api.html#integrity">integrity</a></h2> 
         <p>The <code>integrity</code> option allows to check if the response matches the known-ahead checksum.</p> 
         <p>As described in the <a href="https://w3c.github.io/webappsec-subresource-integrity/">specification</a>, supported hash-functions are SHA-256, SHA-384, and SHA-512, there might be others depending on the browser.</p> 
         <p>For example, we???re downloading a file, and we know that it???s SHA-256 checksum is ???abcdef??? (a real checksum is longer, of course).</p> 
         <p>We can put it in the <code>integrity</code> option, like this:</p> 
         <div id="xz376povkw" data-trusted="1" class="code-example"> 
          <div class="codebox code-example__codebox"> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>fetch('http://site.com/file', {
  integrity: 'sha256-abcdef'
});</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>Then <code>fetch</code> will calculate SHA-256 on its own and compare it with our string. In case of a mismatch, an error is triggered.</p> 
         <h2><a class="main__anchor" name="keepalive" href="fetch-api.html#keepalive">keepalive</a></h2> 
         <p>The <code>keepalive</code> option indicates that the request may ???outlive??? the webpage that initiated it.</p> 
         <p>For example, we gather statistics on how the current visitor uses our page (mouse clicks, page fragments he views), to analyze and improve the user experience.</p> 
         <p>When the visitor leaves our page ??? we???d like to save the data to our server.</p> 
         <p>We can use the <code>window.onunload</code> event for that:</p> 
         <div id="9wqvz37grt" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:4,&quot;end&quot;:4}]"> 
          <div class="codebox code-example__codebox"> 
           <div class="toolbar codebox__toolbar"> 
            <div class="toolbar__tool"> 
             <a href="fetch-api.html#" title="jalankan" data-action="run" class="toolbar__button toolbar__button_run"></a> 
            </div> 
            <div class="toolbar__tool"> 
             <a href="fetch-api.html#" title="buka pada sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a> 
            </div> 
           </div> 
           <div class="codebox__code" data-code="1"> 
            <pre class="line-numbers language-javascript"><code>window.onunload = function() {
  fetch('/analytics', {
    method: 'POST',
    body: "statistics",
    keepalive: true
  });
};</code></pre> 
           </div> 
          </div> 
         </div> 
         <p>Normally, when a document is unloaded, all associated network requests are aborted. But the <code>keepalive</code> option tells the browser to perform the request in the background, even after it leaves the page. So this option is essential for our request to succeed.</p> 
         <p>It has a few limitations:</p> 
         <ul> 
          <li>We can???t send megabytes: the body limit for <code>keepalive</code> requests is 64KB. 
           <ul> 
            <li>If we need to gather a lot of statistics about the visit, we should send it out regularly in packets, so that there won???t be a lot left for the last <code>onunload</code> request.</li> 
            <li>This limit applies to all <code>keepalive</code> requests together. In other words, we can perform multiple <code>keepalive</code> requests in parallel, but the sum of their body lengths should not exceed 64KB.</li> 
           </ul> </li> 
          <li>We can???t handle the server response if the document is unloaded. So in our example <code>fetch</code> will succeed due to <code>keepalive</code>, but subsequent functions won???t work. 
           <ul> 
            <li>In most cases, such as sending out statistics, it???s not a problem, as the server just accepts the data and usually sends an empty response to such requests.</li> 
           </ul> </li> 
         </ul> 
        </div> 
       </article> 
      </div> 
      <div class="page__nav-wrap"> 
       <a class="page__nav page__nav_prev" href="fetch-crossorigin.html" data-tooltip="Fetch: *request Cross-Origin*"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Pelajaran sebelumnya</span></a> 
       <a class="page__nav page__nav_next" href="url.html" data-tooltip="URL objects"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Pelajaran berikutnya</span></a> 
      </div> 
      <div class="article-tablet-foot tablet-only"> 
       <div class="article-tablet-foot__layout"> 
        <div class="share-icons"> 
         <span class="share-icons__title">Bagikan</span> 
         <a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fjs.purwana.net%2Ffetch-api" rel="nofollow"></a> 
         <a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjs.purwana.net%2Ffetch-api" rel="nofollow"></a> 
        </div> 
        <div class="article-tablet-foot__map"> 
         <a class="map" href="tutorial/map.html" data-action="tutorial-map"><span class="map__text">Peta tutorial</span></a> 
        </div> 
       </div> 
      </div> 
     </main> 
    </div> 
    <div class="sidebar page__sidebar sidebar sidebar_sticky-footer"> 
     <button class="sidebar__toggle" data-sidebar-toggle></button> 
     <div class="sidebar__inner"> 
      <div class="sidebar__content"> 
       <div class="sidebar__section"> 
        <h4 class="sidebar__section-title">Bab</h4> 
        <nav class="sidebar__navigation"> 
         <ul class="sidebar__navigation-links"> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="network.html">Network requests</a></li> 
         </ul> 
        </nav> 
       </div> 
       <div class="sidebar__section"> 
        <h4 class="sidebar__section-title">Navigasi pelajaran</h4> 
        <nav class="sidebar__navigation"> 
         <ul class="sidebar__navigation-links"> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#referrer-referrerpolicy">referrer, referrerPolicy</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#mode">mode</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#credentials">credentials</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#cache">cache</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#redirect">redirect</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#integrity">integrity</a></li> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#keepalive">keepalive</a></li> 
         </ul> 
        </nav> 
       </div> 
       <div class="sidebar__section"> 
        <nav class="sidebar__navigation"> 
         <ul class="sidebar__navigation-links"> 
          <li class="sidebar__navigation-link"><a class="sidebar__link" href="fetch-api.html#comments">komentar</a></li> 
         </ul> 
        </nav> 
       </div> 
       <div class="sidebar__section"> 
        <div class="sidebar__section-title">
          Bagikan 
        </div> 
        <a class="share share_tw sidebar__share" href="https://twitter.com/share?url=https%3A%2F%2Fjs.purwana.net%2Ffetch-api" rel="nofollow"></a> 
        <a class="share share_fb sidebar__share" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Fjs.purwana.net%2Ffetch-api" rel="nofollow"></a> 
       </div> 
       <div class="sidebar__section"></div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="page-footer"> 
   <ul class="page-footer__list"> 
    <li class="page-footer__item page-footer__item_copy">??&nbsp;2007???2023&nbsp; Teman JS</li> 
    <li class="page-footer__item page-footer__item_about"><!--by <a href="https://wifi.purwana.net">klub wifi merdeka</a>--></li> 
    <li class="page-footer__item page-footer__item_contact"><!--built with <a href="https://angga.purwana.net" target="_blank">angga purwana</a>--></li> 
   </ul> 
  </div>  
 </body>
</html>